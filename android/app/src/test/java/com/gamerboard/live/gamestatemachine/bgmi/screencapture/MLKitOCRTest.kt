package com.gamerboard.live.gamestatemachine.bgmi.screencapture

import com.gamerboard.live.common.SupportedGames
import com.gamerboard.live.gamestatemachine.bgmi.sampleMLKitOcr
import com.gamerboard.live.gamestatemachine.stateMachine.DEBUGGER
import com.gamerboard.live.gamestatemachine.stateMachine.MachineConstants
import com.gamerboard.live.gamestatemachine.stateMachine.debugMachine
import com.gamerboard.live.models.ImageResultJsonFlat
import com.gamerboard.live.models.TFResult
import com.gamerboard.live.models.TFResultFlat
import com.gamerboard.live.models.db.Game
import com.gamerboard.live.service.screencapture.MLKitOCR
import com.google.common.truth.Truth
import com.google.gson.Gson
import com.google.gson.JsonObject
import com.google.gson.JsonParser
import org.junit.Before
import org.junit.Test

class MLKitOCRTest {
    val originalGame = Game(
        1,
        "11",
        true,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        "1",
        0,
        null,
        null,
        null
    )
    @Before
    fun setUp() {
        MachineConstants.loadConstants(SupportedGames.BGMI.packageName)
        debugMachine = DEBUGGER.DIRECT_HANDLE
    }

    @Test
    fun testFormatResponse() {
        val json: JsonObject = JsonParser.parseString(sampleMLKitOcr).asJsonObject
        println(Gson().toJson(MLKitOCR.formatResponse( json)))
        MLKitOCR.formatResponse(json)
    }

    @Test
    fun testRemap() {
        /*val type = object :TypeToken<ArrayList<TFResultFlat>>(){}.type
        val tfResults:ArrayList<TFResultFlat> = Gson().fromJson<ArrayList<TFResultFlat>>("[{\"epochTimestamp\":1655043694229,\"fileName\":\"1655043694229.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]7 1 LAKHAN a[.]S Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.3494671,0.69761795,0.4284098],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MeDaya366[.]eFinishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60745054,0.69550586,0.6957305,0.77805877],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002519112,0.7615962,0.05530439,0.9546741],\"confidence\":0.96484375,\"label\":8,\"ocr\":\"nked Classic Made (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043694586,\"fileName\":\"1655043694586.jpg\",\"labels\":[{\"box\":[0.6017773,0.18110734,0.6920533,0.26552674],\"confidence\":0.75,\"label\":7,\"ocr\":\"[.]7' LAKHAN A[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.34852335,0.69761795,0.42746606],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60745054,0.6964496,0.6957305,0.7790025],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radheking[.]Finishes |\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.7473489,0.05684486,0.95382166],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043694942,\"fileName\":\"1655043694942.jpg\",\"labels\":[{\"box\":[0.60469496,0.18482831,0.6910231,0.2673812],\"confidence\":0.66015625,\"label\":7,\"ocr\":\"[.]1 ' PLAKHAN[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6103139,0.34857464,0.69664204,0.42930228],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]e Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60839427,0.69550586,0.6966742,0.77805877],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]2 radheking[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.984375,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695284,\"fileName\":\"1655043695284.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]7 'LAKHAN a[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.34939605,0.69761795,0.42659336],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6017004,0.5260784,0.69401765,0.606806],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60839427,0.6964496,0.6966742,0.7790025],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishesl\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0034628455,0.74963146,0.05624812,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695630,\"fileName\":\"1655043695630.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]1 PLAKHAN ,[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6112683,0.3494671,0.69568765,0.4284098],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6017004,0.5270222,0.69401765,0.60774976],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]-Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.6973109,0.69761795,0.7762537],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0033379756,0.74963146,0.057316728,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695980,\"fileName\":\"1655043695980.jpg\",\"labels\":[{\"box\":[0.60371906,0.18483879,0.691999,0.2692582],\"confidence\":0.75,\"label\":7,\"ocr\":\"[.]7 PLAKHAN .[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6131558,0.3494671,0.69757515,0.4284098],\"confidence\":0.87890625,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6035879,0.5270222,0.69590515,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]M-Daya366[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60833997,0.69818366,0.69861597,0.77538097],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043696324,\"fileName\":\"1655043696324.jpg\",\"labels\":[{\"box\":[0.6018638,0.18656237,0.68819195,0.26375967],\"confidence\":0.5,\"label\":7,\"ocr\":\"[.]PLAKHAN .[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6130586,0.3448308,0.7033346,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#1 /52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5260784,0.6981637,0.606806],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.69620585,0.70050347,0.7716963],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radheking[.]Finishes\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0022558756,0.74963146,0.057455093,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043696667,\"fileName\":\"1655043696667.jpg\",\"labels\":[{\"box\":[0.6028182,0.18750611,0.68723756,0.2647034],\"confidence\":0.5546875,\"label\":7,\"ocr\":\"[.]1LAKHAN[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6121149,0.3448308,0.7023909,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFrida[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5269708,0.6972199,0.6059136],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya368[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6082631,0.6954234,0.7005803,0.7743662],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]A radheking[.]Finishes I\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0068443287,0.74770594,0.057596505,0.9462489],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livi\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697030,\"fileName\":\"1655043697030.jpg\",\"labels\":[{\"box\":[0.6110943,0.3448308,0.7034115,0.42738366],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5279146,0.6981637,0.60685736],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.694531,0.70050347,0.7752586],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]2 radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0023942403,0.7518636,0.056372993,0.94930696],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697377,\"fileName\":\"1655043697377.jpg\",\"labels\":[{\"box\":[0.6129818,0.3448308,0.705299,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.00028911978,0.43361217,0.10922361,0.5638826],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5270222,0.6972199,0.60774976],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya3G6[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.6944797,0.70050347,0.7734225],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]A radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74774396,0.05684486,0.9496516],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP)- Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697717,\"fileName\":\"1655043697717.jpg\",\"labels\":[{\"box\":[0.6046127,0.18290195,0.6835555,0.26184466],\"confidence\":0.5,\"label\":7,\"ocr\":\"[.]PLAKHAN a[.]3 Finishes2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61405665,0.3429538,0.7023366,0.42737323],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.52784353,0.6981637,0.60504085],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6112255,0.6944087,0.69950545,0.771606],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74774396,0.05684486,0.9496516],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698061,\"fileName\":\"1655043698061.jpg\",\"labels\":[{\"box\":[0.6110943,0.34389752,0.7034115,0.42831695],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5279146,0.6981637,0.60685736],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60731936,0.69535244,0.6996366,0.77254975],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]Aradheking[.]Finishes |\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0068443287,0.74770594,0.057596505,0.9462489],\"confidence\":0.97265625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livi\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698405,\"fileName\":\"1655043698405.jpg\",\"labels\":[{\"box\":[0.6150004,0.34389752,0.7032804,0.42831695],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5279146,0.6972199,0.60685736],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]- Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60920686,0.6944797,0.7015241,0.7734225],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes I\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.97265625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698753,\"fileName\":\"1655043698753.jpg\",\"labels\":[{\"box\":[0.6121149,0.34577456,0.7023909,0.4283274],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5270222,0.6972199,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]- Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60833997,0.6935873,0.69861597,0.7743149],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]A radheking[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0033379756,0.7518636,0.057316728,0.94930696],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]}]", type)

        println(Gson().toJson(MLKitOCR.formatResponse(json)))
        MLKitOCR.formatResponse(json)*/
        val json: JsonObject = JsonParser.parseString(sampleMLKitOcr).asJsonObject
        val tfResult = Gson().fromJson(
            "{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]7 1 LAKHAN a[.]S Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}}",
            TFResult::class.java
        )

        MLKitOCR.reMap(
            originalGame,
            arrayListOf(tfResult),
            MLKitOCR.formatResponse(json),
            hashMapOf(tfResult to Pair(0, 65))
        )
        val result = MachineConstants.machineInputValidator.validateRankKillGameInfo(
            arrayListOf(
                ImageResultJsonFlat(
                    121231L,
                    "asa.cas",
                    arrayListOf(
                        TFResultFlat(
                            tfResult.label.toInt(),
                            tfResult.confidence,
                            tfResult.ocr,
                            floatArrayOf(),
                            Pair(1600, 720)
                        )
                    )
                )
            )
        )
        Truth.assertThat(result.kill).isEqualTo("3")
        Truth.assertThat(result.squadScoring)
            .isEqualTo("[{\"username\":\"KINGSREDHOOD\",\"kills\":3}]")
    }

    @Test
    fun testVisionResponseForRank() {
        /*val type = object :TypeToken<ArrayList<TFResultFlat>>(){}.type
        val tfResults:ArrayList<TFResultFlat> = Gson().fromJson<ArrayList<TFResultFlat>>("[{\"epochTimestamp\":1655043694229,\"fileName\":\"1655043694229.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]7 1 LAKHAN a[.]S Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.3494671,0.69761795,0.4284098],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MeDaya366[.]eFinishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60745054,0.69550586,0.6957305,0.77805877],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002519112,0.7615962,0.05530439,0.9546741],\"confidence\":0.96484375,\"label\":8,\"ocr\":\"nked Classic Made (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043694586,\"fileName\":\"1655043694586.jpg\",\"labels\":[{\"box\":[0.6017773,0.18110734,0.6920533,0.26552674],\"confidence\":0.75,\"label\":7,\"ocr\":\"[.]7' LAKHAN A[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.34852335,0.69761795,0.42746606],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60745054,0.6964496,0.6957305,0.7790025],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radheking[.]Finishes |\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.7473489,0.05684486,0.95382166],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043694942,\"fileName\":\"1655043694942.jpg\",\"labels\":[{\"box\":[0.60469496,0.18482831,0.6910231,0.2673812],\"confidence\":0.66015625,\"label\":7,\"ocr\":\"[.]1 ' PLAKHAN[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6103139,0.34857464,0.69664204,0.42930228],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6026442,0.5270222,0.6949614,0.60774976],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]e Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60839427,0.69550586,0.6966742,0.77805877],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]2 radheking[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.984375,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695284,\"fileName\":\"1655043695284.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]7 'LAKHAN a[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.34939605,0.69761795,0.42659336],\"confidence\":0.91796875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6017004,0.5260784,0.69401765,0.606806],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60839427,0.6964496,0.6966742,0.7790025],\"confidence\":0.93359375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishesl\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0034628455,0.74963146,0.05624812,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695630,\"fileName\":\"1655043695630.jpg\",\"labels\":[{\"box\":[0.60371906,0.18482831,0.691999,0.2673812],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]1 PLAKHAN ,[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6112683,0.3494671,0.69568765,0.4284098],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6017004,0.5270222,0.69401765,0.60774976],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]-Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.609338,0.6973109,0.69761795,0.7762537],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0033379756,0.74963146,0.057316728,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043695980,\"fileName\":\"1655043695980.jpg\",\"labels\":[{\"box\":[0.60371906,0.18483879,0.691999,0.2692582],\"confidence\":0.75,\"label\":7,\"ocr\":\"[.]7 PLAKHAN .[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6131558,0.3494671,0.69757515,0.4284098],\"confidence\":0.87890625,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6035879,0.5270222,0.69590515,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]M-Daya366[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60833997,0.69818366,0.69861597,0.77538097],\"confidence\":0.90234375,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043696324,\"fileName\":\"1655043696324.jpg\",\"labels\":[{\"box\":[0.6018638,0.18656237,0.68819195,0.26375967],\"confidence\":0.5,\"label\":7,\"ocr\":\"[.]PLAKHAN .[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6130586,0.3448308,0.7033346,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#1 /52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5260784,0.6981637,0.606806],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.69620585,0.70050347,0.7716963],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radheking[.]Finishes\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0022558756,0.74963146,0.057455093,0.9515391],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043696667,\"fileName\":\"1655043696667.jpg\",\"labels\":[{\"box\":[0.6028182,0.18750611,0.68723756,0.2647034],\"confidence\":0.5546875,\"label\":7,\"ocr\":\"[.]1LAKHAN[.]Finishes 2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6121149,0.3448308,0.7023909,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFrida[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5269708,0.6972199,0.6059136],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya368[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6082631,0.6954234,0.7005803,0.7743662],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]A radheking[.]Finishes I\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0068443287,0.74770594,0.057596505,0.9462489],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livi\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697030,\"fileName\":\"1655043697030.jpg\",\"labels\":[{\"box\":[0.6110943,0.3448308,0.7034115,0.42738366],\"confidence\":0.70703125,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5279146,0.6981637,0.60685736],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.694531,0.70050347,0.7752586],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]2 radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0023942403,0.7518636,0.056372993,0.94930696],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697377,\"fileName\":\"1655043697377.jpg\",\"labels\":[{\"box\":[0.6129818,0.3448308,0.705299,0.42738366],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.00028911978,0.43361217,0.10922361,0.5638826],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#1/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5270222,0.6972199,0.60774976],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya3G6[.]e Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61022747,0.6944797,0.70050347,0.7734225],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]A radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74774396,0.05684486,0.9496516],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP)- Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043697717,\"fileName\":\"1655043697717.jpg\",\"labels\":[{\"box\":[0.6046127,0.18290195,0.6835555,0.26184466],\"confidence\":0.5,\"label\":7,\"ocr\":\"[.]PLAKHAN a[.]3 Finishes2\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.61405665,0.3429538,0.7023366,0.42737323],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.52784353,0.6981637,0.60504085],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.6112255,0.6944087,0.69950545,0.771606],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74774396,0.05684486,0.9496516],\"confidence\":0.9765625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698061,\"fileName\":\"1655043698061.jpg\",\"labels\":[{\"box\":[0.6110943,0.34389752,0.7034115,0.42831695],\"confidence\":0.82421875,\"label\":7,\"ocr\":\"[.]jarvisfriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#|/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59944195,0.5279146,0.6981637,0.60685736],\"confidence\":0.95703125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60731936,0.69535244,0.6996366,0.77254975],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]Aradheking[.]Finishes |\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0068443287,0.74770594,0.057596505,0.9462489],\"confidence\":0.97265625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livi\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698405,\"fileName\":\"1655043698405.jpg\",\"labels\":[{\"box\":[0.6150004,0.34389752,0.7032804,0.42831695],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.4350523,0.10801934,0.5624424],\"confidence\":0.96484375,\"label\":6,\"ocr\":\"#/52\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5279146,0.6972199,0.60685736],\"confidence\":0.96484375,\"label\":7,\"ocr\":\"[.]MrDaya366[.]- Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60920686,0.6944797,0.7015241,0.7734225],\"confidence\":0.85546875,\"label\":7,\"ocr\":\"[.]radhe king[.]Finishes I\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.002866108,0.74963146,0.05684486,0.9515391],\"confidence\":0.97265625,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad- Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]},{\"epochTimestamp\":1655043698753,\"fileName\":\"1655043698753.jpg\",\"labels\":[{\"box\":[0.6121149,0.34577456,0.7023909,0.4283274],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]jarvisFriday[.]Finishes 7\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0014933981,0.43361217,0.10801934,0.5638826],\"confidence\":0.95703125,\"label\":6,\"ocr\":\"\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.59849817,0.5270222,0.6972199,0.60774976],\"confidence\":0.9453125,\"label\":7,\"ocr\":\"[.]MrDaya366[.]- Finishes 9\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.60833997,0.6935873,0.69861597,0.7743149],\"confidence\":0.7890625,\"label\":7,\"ocr\":\"[.]A radheking[.]Finishes 1\",\"resolution\":{\"first\":1600,\"second\":720}},{\"box\":[0.0033379756,0.7518636,0.057316728,0.94930696],\"confidence\":0.98046875,\"label\":8,\"ocr\":\"Ranked Classic Mode (TPP) - Squad - Livik\",\"resolution\":{\"first\":1600,\"second\":720}}]}]", type)

        println(Gson().toJson(MLKitOCR.formatResponse(json)))
        MLKitOCR.formatResponse(json)*/
        val json: JsonObject = JsonParser.parseString(
            "{\"pages\":[{\"blocks\":[{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":15},{\"x\":113,\"y\":15},{\"x\":113,\"y\":55},{\"x\":33,\"y\":55}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":15},{\"x\":113,\"y\":15},{\"x\":113,\"y\":55},{\"x\":33,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":51,\"y\":15},{\"x\":69,\"y\":15},{\"x\":69,\"y\":32},{\"x\":51,\"y\":32}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"lb\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":51,\"y\":16},{\"x\":61,\"y\":16},{\"x\":61,\"y\":32},{\"x\":51,\"y\":32}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"R\"},{\"boundingBox\":{\"vertices\":[{\"x\":59,\"y\":15},{\"x\":69,\"y\":15},{\"x\":69,\"y\":31},{\"x\":59,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"T\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":73,\"y\":15},{\"x\":83,\"y\":15},{\"x\":83,\"y\":31},{\"x\":73,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"lb\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":73,\"y\":15},{\"x\":83,\"y\":15},{\"x\":83,\"y\":31},{\"x\":73,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"|\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":87,\"y\":15},{\"x\":113,\"y\":15},{\"x\":113,\"y\":31},{\"x\":87,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"lb\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":87,\"y\":15},{\"x\":95,\"y\":15},{\"x\":95,\"y\":31},{\"x\":87,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"L\"},{\"boundingBox\":{\"vertices\":[{\"x\":95,\"y\":15},{\"x\":103,\"y\":15},{\"x\":103,\"y\":31},{\"x\":95,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"E\"},{\"boundingBox\":{\"vertices\":[{\"x\":104,\"y\":15},{\"x\":113,\"y\":15},{\"x\":113,\"y\":31},{\"x\":104,\"y\":31}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"EOL_SURE_SPACE\",\"isPrefix\":false}},\"text\":\"O\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":40},{\"x\":87,\"y\":40},{\"x\":87,\"y\":55},{\"x\":33,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":40},{\"x\":40,\"y\":40},{\"x\":40,\"y\":55},{\"x\":33,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"F\"},{\"boundingBox\":{\"vertices\":[{\"x\":39,\"y\":40},{\"x\":44,\"y\":40},{\"x\":44,\"y\":55},{\"x\":39,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":43,\"y\":40},{\"x\":51,\"y\":40},{\"x\":51,\"y\":55},{\"x\":43,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"n\"},{\"boundingBox\":{\"vertices\":[{\"x\":52,\"y\":40},{\"x\":57,\"y\":40},{\"x\":57,\"y\":55},{\"x\":52,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":55,\"y\":40},{\"x\":63,\"y\":40},{\"x\":63,\"y\":55},{\"x\":55,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"s\"},{\"boundingBox\":{\"vertices\":[{\"x\":62,\"y\":40},{\"x\":71,\"y\":40},{\"x\":71,\"y\":55},{\"x\":62,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"h\"},{\"boundingBox\":{\"vertices\":[{\"x\":70,\"y\":40},{\"x\":79,\"y\":40},{\"x\":79,\"y\":55},{\"x\":70,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"e\"},{\"boundingBox\":{\"vertices\":[{\"x\":78,\"y\":40},{\"x\":87,\"y\":40},{\"x\":87,\"y\":55},{\"x\":78,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"s\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":92,\"y\":40},{\"x\":102,\"y\":40},{\"x\":102,\"y\":55},{\"x\":92,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":92,\"y\":40},{\"x\":102,\"y\":40},{\"x\":102,\"y\":55},{\"x\":92,\"y\":55}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"3\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":101},{\"x\":109,\"y\":100},{\"x\":109,\"y\":117},{\"x\":41,\"y\":118}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":101},{\"x\":109,\"y\":100},{\"x\":109,\"y\":117},{\"x\":41,\"y\":118}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":101},{\"x\":58,\"y\":101},{\"x\":58,\"y\":118},{\"x\":41,\"y\":118}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"pl\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":102},{\"x\":50,\"y\":102},{\"x\":50,\"y\":118},{\"x\":41,\"y\":118}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"R\"},{\"boundingBox\":{\"vertices\":[{\"x\":49,\"y\":101},{\"x\":58,\"y\":101},{\"x\":58,\"y\":117},{\"x\":49,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"T\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":64,\"y\":101},{\"x\":71,\"y\":101},{\"x\":71,\"y\":117},{\"x\":64,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"pl\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":64,\"y\":101},{\"x\":71,\"y\":101},{\"x\":71,\"y\":117},{\"x\":64,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"|\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":77,\"y\":101},{\"x\":109,\"y\":101},{\"x\":109,\"y\":117},{\"x\":77,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"pl\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":77,\"y\":101},{\"x\":85,\"y\":101},{\"x\":85,\"y\":117},{\"x\":77,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"K\"},{\"boundingBox\":{\"vertices\":[{\"x\":84,\"y\":101},{\"x\":93,\"y\":101},{\"x\":93,\"y\":117},{\"x\":84,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"A\"},{\"boundingBox\":{\"vertices\":[{\"x\":93,\"y\":101},{\"x\":102,\"y\":101},{\"x\":102,\"y\":117},{\"x\":93,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"A\"},{\"boundingBox\":{\"vertices\":[{\"x\":102,\"y\":101},{\"x\":109,\"y\":101},{\"x\":109,\"y\":117},{\"x\":102,\"y\":117}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"≈Å\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":126},{\"x\":88,\"y\":126},{\"x\":88,\"y\":142},{\"x\":23,\"y\":142}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":126},{\"x\":88,\"y\":126},{\"x\":88,\"y\":142},{\"x\":23,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":126},{\"x\":75,\"y\":126},{\"x\":75,\"y\":142},{\"x\":23,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":126},{\"x\":29,\"y\":126},{\"x\":29,\"y\":142},{\"x\":23,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"F\"},{\"boundingBox\":{\"vertices\":[{\"x\":29,\"y\":126},{\"x\":33,\"y\":126},{\"x\":33,\"y\":142},{\"x\":29,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":126},{\"x\":39,\"y\":126},{\"x\":39,\"y\":142},{\"x\":33,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"n\"},{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":126},{\"x\":44,\"y\":126},{\"x\":44,\"y\":142},{\"x\":41,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":44,\"y\":126},{\"x\":51,\"y\":126},{\"x\":51,\"y\":142},{\"x\":44,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"s\"},{\"boundingBox\":{\"vertices\":[{\"x\":52,\"y\":126},{\"x\":59,\"y\":126},{\"x\":59,\"y\":142},{\"x\":52,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"h\"},{\"boundingBox\":{\"vertices\":[{\"x\":59,\"y\":126},{\"x\":67,\"y\":126},{\"x\":67,\"y\":142},{\"x\":59,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"e\"},{\"boundingBox\":{\"vertices\":[{\"x\":67,\"y\":126},{\"x\":75,\"y\":126},{\"x\":75,\"y\":142},{\"x\":67,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"s\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":80,\"y\":126},{\"x\":88,\"y\":126},{\"x\":88,\"y\":142},{\"x\":80,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":80,\"y\":126},{\"x\":88,\"y\":126},{\"x\":88,\"y\":142},{\"x\":80,\"y\":142}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"6\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":16,\"y\":278},{\"x\":105,\"y\":278},{\"x\":105,\"y\":318},{\"x\":16,\"y\":318}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":16,\"y\":278},{\"x\":105,\"y\":278},{\"x\":105,\"y\":318},{\"x\":16,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":278},{\"x\":50,\"y\":278},{\"x\":50,\"y\":295},{\"x\":33,\"y\":295}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":33,\"y\":279},{\"x\":42,\"y\":279},{\"x\":42,\"y\":295},{\"x\":33,\"y\":295}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"R\"},{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":278},{\"x\":50,\"y\":278},{\"x\":50,\"y\":294},{\"x\":41,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"T\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":57,\"y\":278},{\"x\":63,\"y\":278},{\"x\":63,\"y\":294},{\"x\":57,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":57,\"y\":278},{\"x\":63,\"y\":278},{\"x\":63,\"y\":294},{\"x\":57,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"|\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":70,\"y\":278},{\"x\":105,\"y\":278},{\"x\":105,\"y\":294},{\"x\":70,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":70,\"y\":278},{\"x\":79,\"y\":278},{\"x\":79,\"y\":294},{\"x\":70,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"D\"},{\"boundingBox\":{\"vertices\":[{\"x\":78,\"y\":278},{\"x\":86,\"y\":278},{\"x\":86,\"y\":294},{\"x\":78,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"E\"},{\"boundingBox\":{\"vertices\":[{\"x\":86,\"y\":278},{\"x\":93,\"y\":278},{\"x\":93,\"y\":294},{\"x\":86,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"v\"},{\"boundingBox\":{\"vertices\":[{\"x\":94,\"y\":278},{\"x\":99,\"y\":278},{\"x\":99,\"y\":294},{\"x\":94,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":98,\"y\":278},{\"x\":105,\"y\":278},{\"x\":105,\"y\":294},{\"x\":98,\"y\":294}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"EOL_SURE_SPACE\",\"isPrefix\":false}},\"text\":\"t\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":16,\"y\":303},{\"x\":67,\"y\":303},{\"x\":67,\"y\":318},{\"x\":16,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":16,\"y\":303},{\"x\":22,\"y\":303},{\"x\":22,\"y\":318},{\"x\":16,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"F\"},{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":303},{\"x\":26,\"y\":303},{\"x\":26,\"y\":318},{\"x\":23,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":26,\"y\":303},{\"x\":32,\"y\":303},{\"x\":32,\"y\":318},{\"x\":26,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"n\"},{\"boundingBox\":{\"vertices\":[{\"x\":34,\"y\":303},{\"x\":37,\"y\":303},{\"x\":37,\"y\":318},{\"x\":34,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":36,\"y\":303},{\"x\":43,\"y\":303},{\"x\":43,\"y\":318},{\"x\":36,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"s\"},{\"boundingBox\":{\"vertices\":[{\"x\":44,\"y\":303},{\"x\":51,\"y\":303},{\"x\":51,\"y\":318},{\"x\":44,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"h\"},{\"boundingBox\":{\"vertices\":[{\"x\":52,\"y\":303},{\"x\":59,\"y\":303},{\"x\":59,\"y\":318},{\"x\":52,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"e\"},{\"boundingBox\":{\"vertices\":[{\"x\":60,\"y\":303},{\"x\":67,\"y\":303},{\"x\":67,\"y\":318},{\"x\":60,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"s\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":74,\"y\":303},{\"x\":82,\"y\":303},{\"x\":82,\"y\":318},{\"x\":74,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":74,\"y\":303},{\"x\":82,\"y\":303},{\"x\":82,\"y\":318},{\"x\":74,\"y\":318}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"5\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":12,\"y\":373},{\"x\":119,\"y\":373},{\"x\":119,\"y\":418},{\"x\":12,\"y\":418}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":12,\"y\":373},{\"x\":119,\"y\":373},{\"x\":119,\"y\":418},{\"x\":12,\"y\":418}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":30,\"y\":374},{\"x\":48,\"y\":374},{\"x\":48,\"y\":394},{\"x\":30,\"y\":394}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":30,\"y\":375},{\"x\":40,\"y\":375},{\"x\":40,\"y\":394},{\"x\":30,\"y\":394}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"R\"},{\"boundingBox\":{\"vertices\":[{\"x\":38,\"y\":374},{\"x\":48,\"y\":374},{\"x\":48,\"y\":393},{\"x\":38,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"T\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":53,\"y\":374},{\"x\":60,\"y\":374},{\"x\":60,\"y\":393},{\"x\":53,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":53,\"y\":374},{\"x\":60,\"y\":374},{\"x\":60,\"y\":393},{\"x\":53,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"|\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":67,\"y\":374},{\"x\":119,\"y\":374},{\"x\":119,\"y\":393},{\"x\":67,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":67,\"y\":374},{\"x\":75,\"y\":374},{\"x\":75,\"y\":393},{\"x\":67,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"D\"},{\"boundingBox\":{\"vertices\":[{\"x\":76,\"y\":374},{\"x\":85,\"y\":374},{\"x\":85,\"y\":393},{\"x\":76,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"R\"},{\"boundingBox\":{\"vertices\":[{\"x\":85,\"y\":374},{\"x\":92,\"y\":374},{\"x\":92,\"y\":393},{\"x\":85,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"E\"},{\"boundingBox\":{\"vertices\":[{\"x\":91,\"y\":374},{\"x\":100,\"y\":374},{\"x\":100,\"y\":393},{\"x\":91,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"A\"},{\"boundingBox\":{\"vertices\":[{\"x\":101,\"y\":374},{\"x\":110,\"y\":374},{\"x\":110,\"y\":393},{\"x\":101,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"D\"},{\"boundingBox\":{\"vertices\":[{\"x\":109,\"y\":374},{\"x\":119,\"y\":374},{\"x\":119,\"y\":393},{\"x\":109,\"y\":393}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"EOL_SURE_SPACE\",\"isPrefix\":false}},\"text\":\"Y\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":12,\"y\":399},{\"x\":67,\"y\":400},{\"x\":67,\"y\":418},{\"x\":12,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":12,\"y\":400},{\"x\":19,\"y\":400},{\"x\":19,\"y\":417},{\"x\":12,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"F\"},{\"boundingBox\":{\"vertices\":[{\"x\":19,\"y\":400},{\"x\":24,\"y\":400},{\"x\":24,\"y\":417},{\"x\":19,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":23,\"y\":400},{\"x\":31,\"y\":400},{\"x\":31,\"y\":417},{\"x\":23,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"n\"},{\"boundingBox\":{\"vertices\":[{\"x\":31,\"y\":400},{\"x\":36,\"y\":400},{\"x\":36,\"y\":417},{\"x\":31,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"i\"},{\"boundingBox\":{\"vertices\":[{\"x\":34,\"y\":400},{\"x\":42,\"y\":400},{\"x\":42,\"y\":417},{\"x\":34,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"s\"},{\"boundingBox\":{\"vertices\":[{\"x\":41,\"y\":400},{\"x\":50,\"y\":400},{\"x\":50,\"y\":417},{\"x\":41,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"h\"},{\"boundingBox\":{\"vertices\":[{\"x\":49,\"y\":400},{\"x\":59,\"y\":400},{\"x\":59,\"y\":417},{\"x\":49,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"e\"},{\"boundingBox\":{\"vertices\":[{\"x\":57,\"y\":400},{\"x\":67,\"y\":400},{\"x\":67,\"y\":417},{\"x\":57,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"SPACE\",\"isPrefix\":false}},\"text\":\"s\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":71,\"y\":400},{\"x\":81,\"y\":400},{\"x\":81,\"y\":417},{\"x\":71,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":1,\"languageCode\":\"en\"}]},\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":71,\"y\":400},{\"x\":81,\"y\":400},{\"x\":81,\"y\":417},{\"x\":71,\"y\":417}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"O\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":164,\"y\":454},{\"x\":292,\"y\":464},{\"x\":288,\"y\":509},{\"x\":161,\"y\":500}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":164,\"y\":454},{\"x\":292,\"y\":464},{\"x\":288,\"y\":509},{\"x\":161,\"y\":500}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":164,\"y\":455},{\"x\":200,\"y\":458},{\"x\":197,\"y\":503},{\"x\":161,\"y\":500}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":164,\"y\":455},{\"x\":200,\"y\":458},{\"x\":197,\"y\":503},{\"x\":161,\"y\":500}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"#\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":198,\"y\":457},{\"x\":226,\"y\":459},{\"x\":223,\"y\":504},{\"x\":195,\"y\":502}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":198,\"y\":457},{\"x\":226,\"y\":459},{\"x\":223,\"y\":504},{\"x\":195,\"y\":502}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"4\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":227,\"y\":459},{\"x\":248,\"y\":461},{\"x\":245,\"y\":505},{\"x\":224,\"y\":504}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":227,\"y\":459},{\"x\":248,\"y\":461},{\"x\":245,\"y\":505},{\"x\":224,\"y\":504}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"/\"}]},{\"boundingBox\":{\"vertices\":[{\"x\":246,\"y\":460},{\"x\":292,\"y\":463},{\"x\":288,\"y\":509},{\"x\":243,\"y\":506}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":246,\"y\":461},{\"x\":266,\"y\":462},{\"x\":263,\"y\":507},{\"x\":243,\"y\":506}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"6\"},{\"boundingBox\":{\"vertices\":[{\"x\":269,\"y\":462},{\"x\":292,\"y\":464},{\"x\":289,\"y\":509},{\"x\":266,\"y\":507}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"4\"}]}]}]},{\"boundingBox\":{\"vertices\":[{\"x\":210,\"y\":883},{\"x\":247,\"y\":885},{\"x\":246,\"y\":906},{\"x\":209,\"y\":904}],\"normalizedVertices\":[]},\"blockType\":\"TEXT\",\"confidence\":0,\"paragraphs\":[{\"boundingBox\":{\"vertices\":[{\"x\":210,\"y\":883},{\"x\":247,\"y\":885},{\"x\":246,\"y\":906},{\"x\":209,\"y\":904}],\"normalizedVertices\":[]},\"confidence\":0,\"words\":[{\"boundingBox\":{\"vertices\":[{\"x\":210,\"y\":883},{\"x\":247,\"y\":885},{\"x\":246,\"y\":906},{\"x\":209,\"y\":904}],\"normalizedVertices\":[]},\"confidence\":0,\"symbols\":[{\"boundingBox\":{\"vertices\":[{\"x\":210,\"y\":884},{\"x\":225,\"y\":885},{\"x\":224,\"y\":905},{\"x\":209,\"y\":904}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"A\"},{\"boundingBox\":{\"vertices\":[{\"x\":223,\"y\":884},{\"x\":235,\"y\":885},{\"x\":234,\"y\":905},{\"x\":222,\"y\":904}],\"normalizedVertices\":[]},\"confidence\":0,\"text\":\"c\"},{\"boundingBox\":{\"vertices\":[{\"x\":234,\"y\":885},{\"x\":247,\"y\":886},{\"x\":246,\"y\":906},{\"x\":233,\"y\":905}],\"normalizedVertices\":[]},\"confidence\":0,\"property\":{\"detectedLanguages\":[],\"detectedBreak\":{\"type\":\"LINE_BREAK\",\"isPrefix\":false}},\"text\":\"e\"}]}]}]}],\"confidence\":0,\"property\":{\"detectedLanguages\":[{\"confidence\":0.6375971436500549,\"languageCode\":\"en\"},{\"confidence\":0.09297741204500198,\"languageCode\":\"pl\"},{\"confidence\":0.06387617439031601,\"languageCode\":\"lb\"}]},\"width\":459,\"height\":930}],\"text\":\"RT | LEO\\nFinishes 3\\nRT | KAA≈Å\\nFinishes 6\\nRT | DEvit\\nFinishes 5\\nRT | DREADY\\nFinishes O\\n#4/64\\nAce\"}"
        ).asJsonObject
        val tfResult = Gson().fromJson(
            "{\"box\":[0.008600317, 0.43063346, 0.110467725, 0.56686133],\"confidence\":0.7890625,\"label\":6,\"ocr\":\")\",\"resolution\":{\"first\":1600,\"second\":720}}",
            TFResult::class.java
        )
        MLKitOCR.reMap(
            originalGame,
            arrayListOf(tfResult),
            MLKitOCR.formatResponse( json),
            hashMapOf(tfResult to Pair(448, 910))
        )
        val result = MachineConstants.machineInputValidator.validateRankKillGameInfo(
            arrayListOf(
                ImageResultJsonFlat(
                    121231L,
                    "asa.jpg",
                    arrayListOf(
                        TFResultFlat(
                            tfResult.label.toInt(),
                            tfResult.confidence,
                            tfResult.ocr,
                            floatArrayOf(),
                            Pair(1600, 720)
                        )
                    )
                )
            )
        )
        Truth.assertThat(result.teamRank).isEqualTo("4")
    }


    /*@Test
    fun sendForAutoMlFlag() {
        CurrentGame.initGame()
        CurrentGame.setSendForAutoMl(true,"")
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isNotNull()
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isEqualTo("True")

        testLogGreen(CurrentGame.game.metaInfoJson.toString())
    }


    @Test
    fun sendForAutoMlFlagUpdate() {
        CurrentGame.initGame()
        CurrentGame.setSendForAutoMl(false,"")
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isNotNull()
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isEqualTo(UNKNOWN)


        CurrentGame.setSendForAutoMl(true,"")
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isNotNull()
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isEqualTo("True")

        CurrentGame.setSendForAutoMl(false,"")
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isNotNull()
        assertThat(CurrentGame.game.metaInfoJson?.getFromMetaInfoJson("query_auto_ml")).isEqualTo(UNKNOWN)

        testLogGreen(CurrentGame.game.metaInfoJson.toString())
    }

    @Test
    fun testUpdateResultWithResponse() {
        val fileName1 = "rank_kills_screen_1.txt"
        val originalGame1 = gameBuilder(kills = "1")
        val correctedGame1: Game = getMlKitResponse(fileName1, originalGame1, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame1.kills).isEqualTo("17")
        assertThat(correctedGame1.rank).isEqualTo("1")

        val fileName2 = "rank_kills_screen_2.txt"
        val originalGame2 = gameBuilder()
        val correctedGame2: Game = getMlKitResponse(fileName2, originalGame2, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame2.kills).isEqualTo("0")
        assertThat(correctedGame2.rank).isEqualTo("52")

        val fileName3 = "rank_kills_screen_3.txt"
        val originalGame3 = gameBuilder()
        val correctedGame3: Game = getMlKitResponse(fileName3, originalGame3, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame3.kills).isEqualTo("8")
        assertThat(correctedGame3.rank).isEqualTo("1")

        val fileName4 = "rank_kills_screen_4.txt"
        val originalGame4 = gameBuilder()
        val correctedGame4: Game = getMlKitResponse(fileName4, originalGame4, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame4.kills).isEqualTo("14")
        assertThat(correctedGame4.rank).isEqualTo("3")

        val fileName5 = "rank_kills_screen_5.txt"
        val originalGame5 = gameBuilder()
        val correctedGame5: Game = getMlKitResponse(fileName5, originalGame5, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame5.kills).isEqualTo("3")
        assertThat(correctedGame5.rank).isEqualTo("18")

        val fileName6 = "rank_ratings_screen_6.txt"
        val originalGame6 = gameBuilder()
        val correctedGame6: Game = getMlKitResponse(fileName6, originalGame6, correctRankKills = false, correctRankRating = true)
        assertThat(correctedGame6.kills).isEqualTo(UNKNOWN)
        assertThat(correctedGame6.rank).isEqualTo("50")
    }


    @Test
    fun testProperCorrectionWithMultipleResponse() {
        val fileName1 = "rank_kills_screen_1.txt"
        val fileName2 = "rank_ratings_screen_6.txt"

        val originalGame1 = gameBuilder(kills = "1")
        val correctedGame1: Game = getMlKitResponse(fileName1, originalGame1, correctRankKills = true, correctRankRating = false)
        assertThat(correctedGame1.kills).isEqualTo("17")
        assertThat(correctedGame1.rank).isEqualTo("1")

        val correctedGame2: Game = getMlKitResponse(fileName2, correctedGame1, correctRankKills = false, correctRankRating = true)
        assertThat(correctedGame2.kills).isEqualTo("17")
        assertThat(correctedGame2.rank).isEqualTo("50")
    }


    private fun getMlKitResponse(fileName: String, originalGame: Game, correctRankKills: Boolean, correctRankRating: Boolean): Game {
        val response = File(ClassLoader.getSystemResource("annotation_output/$fileName").toURI())
        val tf = File(ClassLoader.getSystemResource("annotation_output/tf_$fileName").toURI())
        val pt = File(ClassLoader.getSystemResource("annotation_output/pt_$fileName").toURI())

        val annotation = JsonParser().parse(response.readText()).asJsonObject
        val dimen: ArrayList<Int> = Json.decodeFromString(pt.readText())
        val tfResults: ArrayList<TFResult> = Json.decodeFromString(tf.readText())
        val resolution = Pair(dimen[0], dimen[1])
        val tfCoordinates: ArrayList<HashMap<TFResult, Pair<Int, Int>>> =  MLKitOCR.mapTfResult(arrayListOf(tfResults) , arrayListOf(resolution), 1)
        return updateResultWithResponse(annotation, arrayListOf(tfResults), tfCoordinates, arrayListOf(fileName), originalGame, "", "", type = arrayListOf(true, true))
    }


    /*private fun updateResultWithResponse(annotation: JsonObject, tfResults: ArrayList<TFResult>, tfCoordinates: HashMap<TFResult, Pair<Int, Int>>, imagePath: String, originalGame: Game, correctRankKills: Boolean, correctRankRating: Boolean, originalBGMIId: String, originalBGBICharacterID: String): Game {
        val preResult = MLKitOCR.formatResponse(annotation)
        reMap(tfResults, preResult, tfCoordinates)

        val labelsArray = MachineLabelUtils.flattenArrayResultJson(tfResults)
        val resultJsonFlat = arrayListOf(ImageResultJsonFlat(0, imagePath, labelsArray))


        var rank = originalGame.rank
        var teamRank = originalGame.teamRank
        var gameInfo = originalGame.gameInfo
        var kills = originalGame.kills
        var initialTier = originalGame.initialTier
        var finalTier = originalGame.finalTier
        var metaInfoJson = originalGame.metaInfoJson

        if (correctRankKills) {
            val result = MachineInputValidator.validateRankKillGameInfo(resultJsonFlat, originalBGMIId, originalBGBICharacterID)

            rank = result.rank ?: rank
            teamRank = result.teamRank ?: teamRank
            gameInfo = if (gameInfo == null || gameInfo == CurrentGame.UNKNOWN) Json.encodeToString(result.gameInfo) else gameInfo
            kills = result.kill ?: kills
            initialTier = if (initialTier == null || initialTier == CurrentGame.UNKNOWN) result.initialTier else initialTier
            finalTier = if (finalTier == null || finalTier == CurrentGame.UNKNOWN) result.finalTier else finalTier
            metaInfoJson = if (metaInfoJson == null || metaInfoJson == CurrentGame.UNKNOWN)
                CurrentGame.UNKNOWN.putToMetaInfoJson(key = "Auto ML correctRankKills", value = " Rank: ${originalGame.rank}->${result.rank},  Kills: ${originalGame.kills}->${result.kill} from from ${resultJsonFlat[0].labels.joinToString { it.ocr + " \n " }} of : ${MLKitOCR.pageText}") else
                metaInfoJson.putToMetaInfoJson(key = "Auto ML correctRankKills", value = " Rank: ${originalGame.rank}->${result.rank},  Kills: ${originalGame.kills}->${result.kill},  ${resultJsonFlat[0].labels.joinToString { it.ocr + " \n " }} of : ${MLKitOCR.pageText}")
        } else
            if (correctRankRating) {
                val result = MachineInputValidator.validateRankRatingGameInfo(resultJsonFlat, originalBGMIId, originalBGBICharacterID)

                rank = result.rank ?: rank
                teamRank = if (teamRank == null || teamRank == CurrentGame.UNKNOWN) result.teamRank else teamRank
                gameInfo = if (gameInfo == null || gameInfo == CurrentGame.UNKNOWN) Json.encodeToString(result.gameInfo) else gameInfo
                kills = kills
                initialTier = if (initialTier == null || initialTier == CurrentGame.UNKNOWN) result.initialTier else initialTier
                finalTier = if (finalTier == null || finalTier == CurrentGame.UNKNOWN) result.finalTier else finalTier
                metaInfoJson = if (metaInfoJson == null || metaInfoJson == CurrentGame.UNKNOWN)
                    CurrentGame.UNKNOWN.putToMetaInfoJson(key = "Auto ML correctRankRating", value = "Rank: ${originalGame.rank}->${result.rank} from from ${resultJsonFlat[0].labels.joinToString { it.ocr + " \n " }}  of : ${MLKitOCR.pageText}") else
                    metaInfoJson.putToMetaInfoJson(key = "Auto ML correctRankRating", value = "Rank: ${originalGame.rank}->${result.rank} from from ${resultJsonFlat[0].labels.joinToString { it.ocr + " \n " }}  of : ${MLKitOCR.pageText}")
            }

        return Game(
                userId = originalGame.userId,
                valid = true,
                rank = rank,
                gameInfo = gameInfo,
                kills = kills,
                teamRank = teamRank,
                startTimeStamp = originalGame.startTimeStamp,
                endTimestamp = originalGame.endTimestamp,
                gameId = originalGame.gameId,
                initialTier = initialTier,
                finalTier = finalTier,
                metaInfoJson = metaInfoJson,
                synced = 0
        )
    }*/


    @After
    fun cleanUp() {
        debugMachine = DEBUGGER.DISABLED
    }*/

}
